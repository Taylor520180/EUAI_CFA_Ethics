{
  "choices": [
    {
      "context": {
        "data_points": {
          "text": [
            "Ethics Handbook-76.pdf: Under Mosaic Theory, the analyst may use significant conclusions derived from the analysis of public and nonmaterial nonpublic information as the basis for investment recommendations and decisions."
          ]
        },
        "thoughts": [
          {
            "description": [
              "{'role': 'system', 'content': \"Below is a history of the conversation so far, and a new question asked by the user that needs to be answered by searching in a knowledge base.\\n    You have access to Azure AI Search index with 100's of documents.\\n    Generate a search query based on the conversation and the new question.\\n    Do not include cited source filenames and document names e.g info.txt or doc.pdf in the search query terms.\\n    Do not include any text inside [] or <<>> in the search query terms.\\n    Do not include any special characters like '+'.\\n    If the question is not in English, translate the question to English before generating the search query.\\n    If you cannot generate a search query, return just the number 0.\\n    \"}",
              "{'role': 'user', 'content': 'What is Mosaic Theory?'}",
              "{'role': 'assistant', 'content': 'Summarize key points of Mosaic Theory'}",
              "{'role': 'user', 'content': 'What is Fair Dealing?'}",
              "{'role': 'assistant', 'content': 'Show key points of Fair Dealing'}",
              "{'role': 'user', 'content': 'Generate search query for: What is Mosaic Theory?'}"
            ],
            "props": {
              "model": "gpt-35-turbo-16k"
            },
            "title": "Prompt to generate search query"
          },
          {
            "description": "Mosaic Theory",
            "props": {
              "filter": null,
              "has_vector": false,
              "top": 3,
              "use_semantic_captions": true,
              "use_semantic_ranker": false
            },
            "title": "Search using generated search query"
          },
          {
            "description": [
              {
                "captions": [
                  {
                    "additional_properties": {},
                    "highlights": [],
                    "text": "Caption: Under Mosaic Theory, the analyst may use significant conclusions derived from the analysis of public and nonmaterial nonpublic information as the basis for investment recommendations and decisions."
                  }
                ],
                "category": null,
                "content": "Under Mosaic Theory, the analyst may use significant conclusions derived from the analysis of public and nonmaterial nonpublic information as the basis for investment recommendations and decisions.",
                "embedding": null,
                "groups": null,
                "id": "file-Ethics Handbook_pdf-42656E656669745F4F7074696F6E732E706466-page-76",
                "imageEmbedding": null,
                "oids": null,
                "reranker_score": 3.4577205181121826,
                "score": 0.03279569745063782,
                "sourcefile": "Ethics Handbook.pdf",
                "sourcepage": "Ethics Handbook-76.pdf"
              }
            ],
            "props": null,
            "title": "Search results"
          },
          {
            "description": [
              "{'role': 'system', 'content': \"Your name is CFA Learning Buddy. You are an expert in CFA Code of Ethics and Standards of Professional Conduct and your role is to help students in areas of CFA Code of Ethics and Standards of Professional Conduct.You are equipped to provide explanation of key concepts, giving case examples, providing multiple choice quizzes with answers and explanations, answering all kinds of questions related to CFA Code of Ethics and Standards of Professional Conduct. When greeting, you will say:\"hi~I'm your learning buddy. Feel to ask me any questions related to CFA Ethics.\" When giving quiz to users, use multiple choice questions with only three options and ask users to choose the right one. Your tone style should be encouraging. Your communication style should be story telling. Your reasoning framework should be analogical. You will talk to users in a casual and friendly way. If users say they still don't understand, try to explain with examples. When users indicate they understand, you should proactively give them a quiz or ask them to define a concept to test their understanding.\\n        Answer ONLY with the facts listed in the list of sources below. If there isn't enough information below, say you don't know. Do not generate answers that don't use the sources below. If asking a clarifying question to the user would help, ask the question.\\n        For tabular information return it as an html table. Do not return markdown format. If the question is not in English, answer in the language used in the question.\\n        \\n        \\n        \\n        \"}",
              "{'role': 'user', 'content': 'What is Mosaic Theory?\\nSources:\\n Ethics Handbook-76.pdf: Under Mosaic Theory, the analyst may use significant conclusions derived from the analysis of public and nonmaterial nonpublic information as the basis for investment recommendations and decisions.'}"
            ],
            "props": {
              "model": "gpt-35-turbo-16k"
            },
            "title": "Prompt to generate answer"
          }
        ]
      },
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "Good questions! Based on Mosaic Theory, a financial analyst may use significant conclusions derived from the analysis of public and nonmaterial nonpublic information as the basis for investment recommendations and decisions even if those conclusions would have been material inside information had they been communicated directly to the analyst by a company. Under the Mosaic Theory, financial analysts are free to act on this collection, or mosaic, of information without risking violation.",
        "function_call": null,
        "role": "assistant",
        "tool_calls": null
      },
      "session_state": null
    }
  ],
  "created": 0,
  "id": "test-123",
  "model": "test-model",
  "object": "chat.completion",
  "system_fingerprint": null,
  "usage": null
}
